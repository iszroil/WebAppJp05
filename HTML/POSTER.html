<html>
<head>
<script src="https://webtama.github.io/WebAppJp05/JQUERY/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jscolor/2.4.6/jscolor.min.js"></script> 
<script src="https://webtama.github.io/WebAppJp05/HTML/poster.js"></script>
	
</head>
<style>
#html-content-holder {
background-color: transparent!important; 
width: 300px!important; 
height: 300px!important;
font-smoothing: always!important;
text-shadow: 2px 2px 3px #000000!important;
font-family: Arial, sans-serif!important;
}
#backgroundposter {
width: 300px!important; 
height:300px!important;
margin-top: -3px!important;
margin-left:-8px!important; 
background-image:url(''); 
background-size: 100% auto!important;
position: absolute!important; 
z-index: -1!important;
background-color: transparent!important;
background-repeat: no-repeat!important;
background-position: center center!important;
border-radius: 20px!important;
}
#textposter {
width: inherit!important; 
margin-top: -50px!important;
Font-Size: 30px!important;
font-weight:bold!important;
position: absolute!important; 
z-index: 100!important;
font-smoothing: always!important;
text-shadow: 2px 2px 3px #000000!important;
font-family: Arial, sans-serif!important;
}
#imgposter {
width: 292px!important; 
height:300px!important;
margin-top: -33px!important;	
left:-8px!important;
position: relative!important;
z-index: 0!important;
}

#previewImg {
width: 300px!important; 
height: 300px!important;
position: relative;!important
background-color: transparent;
margin-left: 0px!important;
margin-right: 0px!important;
margin-top: 0px!important;
margin-bottom: 0px!important;
display:none!important;
}

</style>

<body>
<center>
Masukan Foto Anda :<br>
<input type='file' id='getval' name="background-image" onchange="GetFotoPoster(event)" />
<br><br>

Pilih Tema :<br>
<select name="Color:"onchange="document.getElementById('imgposter').src = this.value;">
    <option>Pilih Tema</option>
    <option value="https://webtama.github.io/WebAppJp05/icons/160x160.png">Background 1</option>
    <option value="https://webtama.github.io/WebAppJp05/icons/512x512.png">Background 2</option>    
</select>
<br><br>

Tulis Nama/Komentar :<br>
<input type="text" id="textchatposter" placeholder="Pesan Teks" onfocus="this.value='';document.getElementById('errorMessage').innerHTML = '';" onchange="GettextPoster();"/>
<br>
Pilih Warna Tulisan :<br>
<input id="colortext" data-jscolor="" onchange="GettcolorPoster();"> 
<br><br>
<div id="html-content-holder">      
<div id="backgroundposter">
</div>
<img  id="imgposter" src="" />
<div id="textposter" style="z-index:auto;">
</div> 
</div>
<br>
<input id="btn_convert" type="button" value="Unduh Foto" />
<br><br>
<h5>By MaSkIbOw 2021</h5>
<span id="previewImg">
</span>
</center>
<script>
       document.getElementById("btn_convert").addEventListener("click", function() {
	   document.getElementById("previewImg").innerHTML = "";
		html2canvas(document.getElementById("html-content-holder"),
			{
				allowTaint: false,
				useCORS: true
			}).then(function (canvas) {
				var anchorTag = document.createElement("a");
				document.body.appendChild(anchorTag);
				document.getElementById("previewImg").appendChild(canvas);
				anchorTag.download = "PosterHariIni.jpg";
				anchorTag.href = canvas.toDataURL();
				anchorTag.target = '_blank';
				anchorTag.click();
			});
  });

</script>

<script>
function GetFotoPoster(event){
		 var getImagePath = URL.createObjectURL(event.target.files[0]);
		 $('#backgroundposter').css('background-image', 'url(' + getImagePath + ')');
		}
</script>
<script>
function GettextPoster(){
document.getElementById("textposter").innerHTML = document.getElementById("textchatposter").value;
}
</script>
<script>
function GettcolorPoster(){
document.getElementById("textposter").style.color = document.getElementById("colortext").value;
}
</script>
</body>
</html>
